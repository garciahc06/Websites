<!DOCTYPE html>
<html>
    <head>
        <title>Drag & Drop</title>
        <link rel="icon" type="image/x-icon" href="images/favicon.ico">
        <link rel="stylesheet" href="Estilos.css">
        <script type="application/javascript">
        function empezar(event){
            event.dataTransfer.effectAllowed = 'move';
            event.dataTransfer.setData("Data", event.target.getAttribute('id'));
            event.dataTransfer.setDragImage(event.target, 25, 25);
            return true;
        }
        function encima(event){
            var arrastraId = event.dataTransfer.getData("Data");
            var contenedorId = event.target.getAttribute('id');

            if(contenedorId === 'des1') return false;
            if((contenedorId === 'des2') && (arrastraId === 'ar2')) return false;
            if((contenedorId === 'des3') && (arrastraId === 'ar3')) return false;
        }
        function terminar(event){
            event.dataTransfer.clearData("Data");
            return true;
        }
        function soltar(event){
            var arrastraId = event.dataTransfer.getData("Data");
            event.target.appendChild(document.getElementById(arrastraId));
            event.stopPropagation();
            return true;
        }

        </script>
    </head>
    <body>
        <h1>Arrastrar y soltar con HTML5</h1>
        <div id="des1" ondragover="return encima(event)" ondrop="return soltar(event)">
            Contenedor 1
        </div>
        <div id="des2" ondragover="return encima(event)" ondrop="return soltar(event)">
            Contenedor 2
        </div>
        <div id="des3" ondragover="return encima(event)" ondrop="return soltar(event)">
            Contenedor 3
        </div>
        <div id="ar1" draggable="true" ondragstart="return empezar(event)" ondragend="return terminar(event)">
            A1
        </div>
        <div id="ar2" draggable="true" ondragstart="return empezar(event)" ondragend="return terminar(event)">
            A2
        </div>
        <div id="ar3" draggable="true" ondragstart="return empezar(event)" ondragend="return terminar(event)">
            A3
        </div>
    </body>
</html>